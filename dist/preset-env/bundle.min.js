!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.array.for-each.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.find.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.array.last-index-of.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.string.includes.js"),require("core-js/modules/es.string.repeat.js"),require("core-js/modules/es.array.is-array.js"),require("core-js/modules/es.array.index-of.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.function.bind.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.array.join.js"),require("core-js/modules/es.date.to-json.js"),require("core-js/modules/web.url.to-json.js"),require("core-js/modules/es.number.constructor.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.object.keys.js","core-js/modules/es.array.for-each.js","core-js/modules/web.dom-collections.for-each.js","core-js/modules/es.array.find.js","core-js/modules/es.function.name.js","core-js/modules/es.array.last-index-of.js","core-js/modules/es.array.iterator.js","core-js/modules/es.object.to-string.js","core-js/modules/web.dom-collections.iterator.js","core-js/modules/es.array.includes.js","core-js/modules/es.string.includes.js","core-js/modules/es.string.repeat.js","core-js/modules/es.array.is-array.js","core-js/modules/es.array.index-of.js","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.split.js","core-js/modules/es.date.to-string.js","core-js/modules/es.string.replace.js","core-js/modules/es.function.bind.js","core-js/modules/es.regexp.to-string.js","core-js/modules/es.array.join.js","core-js/modules/es.date.to-json.js","core-js/modules/web.url.to-json.js","core-js/modules/es.number.constructor.js"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).omg={})}(this,(function(e){"use strict";function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function o(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,s=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw s}}}}
//! Copyright (c) 2021 Jacek Woźniczak
//! Permission is hereby granted, free of charge, to any person obtaining a copy
//! of this software and associated documentation files (the "Software"), to deal
//! in the Software without restriction, including without limitation the rights
//! to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//! copies of the Software, and to permit persons to whom the Software is
//! furnished to do so, subject to the following conditions:
//! The above copyright notice and this permission notice shall be included in all
//! copies or substantial portions of the Software.
//! THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//! IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//! FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//! AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//! LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//! OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//! SOFTWARE.
//! This file has been modified by Q-Prod Jacek Woźniczak to add additional features.
//! The original version is https://github.com/SAP/openui5/blob/master/src/sap.ui.core/src/sap/ui/core/util/MockServer.js
//! with the license:
//! OpenUI5
//! (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
//! Licensed under the Apache License, Version 2.0 - see https://github.com/SAP/openui5/blob/master/LICENSE.txt.
var n=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),!t)throw new Error("metadata not provided");a.rules||(a.rules={}),this._predefinedValuesConfig=a.rules.predefined||{},this._skipMockGeneration=a.rules.skipMockGeneration||[],this._distinctValues=a.rules.distinctValues||[],this._variables=a.rules.variables||{},this._numberOfEntities=a.numberOfEntitiesToGenerate||30,this._rootUri=a.mockDataRootURI||"","/"!==this._rootUri.substr(this._rootUri.length-1)&&(this._rootUri="".concat(this._rootUri,"/")),this._prepareMetadata(t)}var a,n,s;return a=e,(n=[{key:"createMockData",value:function(){var e=this._findEntitySets(this._oMetadata),r=Object.keys(e);return this._skipMockGeneration.forEach((function(t){r.find((function(e){return e===t}))&&delete e[t]})),this._findEntityTypes(this._oMetadata),this._generateMockdata(e,this._oMetadata),this._oMockdata}},{key:"_prepareMetadata",value:function(e){try{this._oMetadata=jQuery.parseXML(e)}catch(e){throw new Error("Metadata parsing error: ".concat(e))}}},{key:"_generateMockdata",value:function(e,r){var t=this,a={},o=this._getRootUri();jQuery.each(e,(function(e,o){var n={};n[o.name]=o,a[e]=t._generateODataMockdataForEntitySet(n,r)[e]})),jQuery.each(e,(function(e,r){for(var n in r.navprops)for(var s=r.navprops[n],i=s.from.propRef.length,u=0;u<i;u++)for(var c=0;c<a[e].length;c++){var f=a[e][c];a[s.to.entitySet][c][s.to.propRef[u]]=f[s.from.propRef[u]]}jQuery.each(a[e],(function(a,n){n.__metadata={uri:o+e+"("+t._createKeysString(r,n)+")",type:r.schema+"."+r.type},jQuery.each(r.navprops,(function(a){n[a]={__deferred:{uri:o+e+"("+t._createKeysString(r,n)+")/"+a}}}))}))})),this._oMockdata=a}},{key:"_generateODataMockdataForEntitySet",value:function(e,r){var t=this,a={},o=this._findEntityTypes(r),n=this._findComplexTypes(r);return jQuery.each(e,(function(e,r){a[e]=t._generateDataFromEntitySet(r,o,n)})),a}},{key:"_findEntityTypes",value:function(e){var r={};return jQuery(e).find("EntityType").each((function(e,t){var a=jQuery(t);r[a.attr("Name")]={name:a.attr("Name"),properties:[],keys:[]},a.find("Property").each((function(e,t){var o=jQuery(t),n=o.attr("Type");r[a.attr("Name")].properties.push({schema:n.substring(0,n.lastIndexOf(".")),type:n.substring(n.lastIndexOf(".")+1),name:o.attr("Name"),precision:o.attr("Precision"),scale:o.attr("Scale")})})),a.find("PropertyRef").each((function(e,t){var o=jQuery(t).attr("Name");r[a.attr("Name")].keys.push(o)}))})),r}},{key:"_findComplexTypes",value:function(e){var r={};return jQuery(e).find("ComplexType").each((function(e,t){var a=jQuery(t);r[a.attr("Name")]={name:a.attr("Name"),properties:[]},a.find("Property").each((function(e,t){var o=jQuery(t),n=o.attr("Type");r[a.attr("Name")].properties.push({schema:n.substring(0,n.lastIndexOf(".")),type:n.substring(n.lastIndexOf(".")+1),name:o.attr("Name"),precision:o.attr("Precision"),scale:o.attr("Scale")})}))})),r}},{key:"_generateDataFromEntitySet",value:function(e,r,t){for(var a=r[e.type],o=[],n=0;n<this._numberOfEntities;n++)o.push(this._generateDataFromEntity(a,n+1,t));return this._distinctValues.includes(e.name)&&(o=this._removeDuplicates(o,a.keys)),o}},{key:"_removeDuplicates",value:function(e,r){var t=[],a="x".repeat(r.length),o=!0;return e.forEach((function(e){for(var n=function(n){var s="";if(r.forEach((function(r){t[n][r]===e[r]&&(s+="x")})),s===a)return o=!1,"break"},s=0;s<t.length&&"break"!==n(s);s++);o&&t.push(e),o=!0})),t}},{key:"_generateDataFromEntity",value:function(e,r,t){var a={};if(!e)return a;for(var o=0;o<e.properties.length;o++){var n=e.properties[o];a[n.name]=this._generatePropertyValue(n,t,r,e,a)}return a}},{key:"_generatePropertyValue",value:function(e,r,t,a,n){if(n[e.name])return n[e.name];if(this._predefinedValuesConfig[a.name]&&this._predefinedValuesConfig[a.name][e.name]){var s=this._predefinedValuesConfig[a.name][e.name];if(Array.isArray(s))return s[Math.floor(Math.random()*s.length)];if("string"==typeof s&&-1!==s.indexOf("$ref")){var i=s.split(":")[1];if(this._variables&&this._variables[i]){var u=this._variables[i];return Array.isArray(u)?u[Math.floor(Math.random()*u.length)]:u}throw"Variable ".concat(s," not found")}if(s.reference)if(n[s.reference]){var c=n[s.reference];if(s.values){var f,l=o(s.values);try{for(l.s();!(f=l.n()).done;){var d=f.value;if(d.key&&d.key===c)return d.value?d.value:"missing value"}}catch(e){l.e(e)}finally{l.f()}}}else for(var m in a.properties)if(a.properties[m].name===s.reference){var y=a.properties[m];return n[y.name]=this._generatePropertyValue(y,r,t,a,n),this._generatePropertyValue(e,r,t,a,n)}}var h=t;switch(h||(h=Math.floor(1e4*this._getPseudoRandomNumber("String"))+101),e.type){case"String":return e.name+" "+h;case"DateTime":var p=new Date;return p.setFullYear(2e3+Math.floor(20*this._getPseudoRandomNumber("DateTime"))),p.setDate(Math.floor(30*this._getPseudoRandomNumber("DateTime"))),p.setMonth(Math.floor(12*this._getPseudoRandomNumber("DateTime"))),p.setMilliseconds(0),"/Date("+p.getTime()+")/";case"Int16":case"Int32":case"Int64":return Math.floor(1e4*this._getPseudoRandomNumber("Int"));case"Decimal":return Math.floor(1e6*this._getPseudoRandomNumber("Decimal"))/100;case"Boolean":return this._getPseudoRandomNumber("Boolean")<.5;case"Byte":return Math.floor(10*this._getPseudoRandomNumber("Byte"));case"Double":return 10*this._getPseudoRandomNumber("Double");case"Single":return 1e9*this._getPseudoRandomNumber("Single");case"SByte":return Math.floor(10*this._getPseudoRandomNumber("SByte"));case"Time":return"PT"+Math.floor(23*this._getPseudoRandomNumber("Time"))+"H"+Math.floor(59*this._getPseudoRandomNumber("Time"))+"M"+Math.floor(59*this._getPseudoRandomNumber("Time"))+"S";case"Guid":return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=16*this._getPseudoRandomNumber("Guid")|0;return("x"===e?r:3&r|8).toString(16)}.bind(this));case"Binary":for(var j="",g=0,v=Math.floor(4294967295*this._getPseudoRandomNumber("Binary")-2147483648);g<32;g++,j+=String(v>>>31),v<<=1);return j;case"DateTimeOffset":var _=new Date;return _.setFullYear(2e3+Math.floor(20*this._getPseudoRandomNumber("DateTimeOffset"))),_.setDate(Math.floor(30*this._getPseudoRandomNumber("DateTimeOffset"))),_.setMonth(Math.floor(12*this._getPseudoRandomNumber("DateTimeOffset"))),_.setMilliseconds(0),"/Date("+_.getTime()+"+0000)/";default:return this._generateDataFromEntity(r[e.type],h,r)}}},{key:"_getPseudoRandomNumber",value:function(e){return this._iRandomSeed||(this._iRandomSeed={}),this._iRandomSeed.hasOwnProperty(e)||(this._iRandomSeed[e]=0),this._iRandomSeed[e]=25214903917*(this._iRandomSeed[e]+11)%0xffffffffffff,this._iRandomSeed[e]/0xffffffffffff}},{key:"_createKeysString",value:function(e,r){var t=this,a="";return r&&jQuery.each(e.keys,(function(o,n){a&&(a+=",");var s=r[n];if("Edm.String"===e.keysType[n]?s=encodeURIComponent("'"+s+"'"):"Edm.DateTime"===e.keysType[n]?(s=t._getDateTime(s),s=encodeURIComponent(s)):"Edm.Guid"===e.keysType[n]&&(s="guid'"+s+"'"),1===e.keys.length)return a+=s;a+=n+"="+s})),a}},{key:"_findEntitySets",value:function(e){var r={},t=jQuery(e).find("Principal"),a=jQuery(e).find("Dependent");jQuery(e).find("EntitySet").each((function(e,t){var a=jQuery(t),o=/((.*)\.)?(.*)/.exec(a.attr("EntityType"));r[a.attr("Name")]={name:a.attr("Name"),schema:o[2],type:o[3],keys:[],keysType:{},navprops:{}}}));var o=function(e,r,o,n){var s=jQuery(o).find("End[Role='"+e+"']").attr("EntitySet"),i=jQuery(r).find("End[Role='"+e+"']").attr("Multiplicity"),u=[],c=jQuery(r).find("ReferentialConstraint > [Role='"+e+"']");return c&&c.length>0?jQuery(c[0]).children("PropertyRef").each((function(e,r){u.push(jQuery(r).attr("Name"))})):jQuery(n?t:a).each((function(r,t){if(e===jQuery(t).attr("Role"))return jQuery(t).children("PropertyRef").each((function(e,r){u.push(jQuery(r).attr("Name"))})),!1})),{role:e,entitySet:s,propRef:u,multiplicity:i}};return jQuery.each(r,(function(r,t){var a=jQuery(e).find("EntityType[Name='"+t.type+"']"),n=jQuery(a).find("PropertyRef");jQuery.each(n,(function(e,r){var o=jQuery(r).attr("Name");t.keys.push(o),t.keysType[o]=jQuery(a).find("Property[Name='"+o+"']").attr("Type")}));var s=jQuery(e).find("EntityType[Name='"+t.type+"'] NavigationProperty");jQuery.each(s,(function(r,a){var n=jQuery(a),s=n.attr("Relationship").split("."),i=jQuery(e).find("AssociationSet[Association = '"+s.join(".")+"']"),u=s.pop(),c=jQuery(e).find("Association[Name = '"+u+"']");t.navprops[n.attr("Name")]={name:n.attr("Name"),from:o(n.attr("FromRole"),c,i,!0),to:o(n.attr("ToRole"),c,i,!1)}}))})),r}},{key:"_getRootUri",value:function(){var e=this._rootUri;return e=e&&/([^?#]*)([?#].*)?/.exec(e)[1]}},{key:"_getDateTime",value:function(e){if(e)return"datetime'"+new Date(Number(e.replace("/Date(","").replace(")/",""))).toJSON().substring(0,19)+"'"}}])&&t(a.prototype,n),s&&t(a,s),e}();e.ODataMockGenerator=n}));
//# sourceMappingURL=bundle.min.js.map
